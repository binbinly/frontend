{"version":3,"sources":["webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?5a1f","webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?13ac","webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?a604","webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?9b3c","uni-app:///components/common/common-list.vue","webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?6be6","webpack:////Users/bin/Downloads/sns/components/common/common-list.vue?ff0b"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAA0zB,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmE90B;AACA,gD;;;;;AAKA;AACA;AACA,oBADA;AAEA,4BAFA,EADA;;AAKA;AACA,gBADA;AAEA;AACA,mBADA;AAEA,oBAFA,EAFA,EALA;;;AAYA;AACA,cADA,sBACA,KADA,EACA;AACA;AACA,KAHA;AAIA,gBAJA,wBAIA,KAJA,EAIA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAVA,EAZA;;AAwBA;AACA;AACA,mDADA,GADA,CAxBA;;;AA6BA;AACA;AACA,aAFA,qBAEA,OAFA,EAEA;AACA;AACA,8DADA;;AAGA,KANA;AAOA;AACA,UARA,oBAQA;AACA;AACA;AACA,qCADA;AAEA;AACA,qBADA,EAFA;AAIA,YAJA,CAIA;AACA;AACA;AACA,0BADA;AAEA;AACA,yCADA,EAFA;;;AAMA,SAZA;AAaA,OAdA;AAeA,KAxBA;AAyBA;AACA,cA1BA,wBA0BA;AACA;AACA;AACA;AACA,2DADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxCA;AAyCA;AACA,aA1CA,qBA0CA,IA1CA,EA0CA;AACA;AACA;AACA,iCADA;AAEA,0CAFA;AAGA;AACA,qBADA,EAHA;AAKA,YALA,CAKA;AACA;AACA;AACA,2BADA;AAEA;AACA,wBADA;AAEA,gCAFA,EAFA;;;AAOA,SAdA;AAeA,OAhBA;AAiBA,KA5DA;AA6DA;AACA,aA9DA,uBA8DA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KArEA;AAsEA;AACA,WAvEA,qBAuEA;AACA;AACA;AACA;AACA;AACA,KA5EA;AA6EA;AACA,iBA9EA,yBA8EA,MA9EA,EA8EA,KA9EA,EA8EA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,oBADA;AAEA,8BAFA;;AAIA,KAvFA,EA7BA,E;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAiqC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACArrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/common/common-list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./common-list.vue?vue&type=template&id=bb0890d2&\"\nvar renderjs\nimport script from \"./common-list.vue?vue&type=script&lang=js&\"\nexport * from \"./common-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./common-list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/common/common-list.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./common-list.vue?vue&type=template&id=bb0890d2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"formatAvatar\")(_vm.item.avatar)\n\n  var f1 = _vm._f(\"formatTime\")(_vm.item.created_at)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./common-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./common-list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"p-2 animated fast fadeIn\">\r\n\t\t<!-- 头像昵称 | 关注按钮 -->\r\n\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t<image class=\"rounded-circle mr-2\" :src=\"item.avatar|formatAvatar\" @click=\"openSpace(item.user_id)\" style=\"width: 65rpx;height: 65rpx;\"\r\n\t\t\t\t lazy-load></image>\r\n\t\t\t\t<!-- 昵称发布时间 -->\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"font\" style=\"line-height: 1.5;\">\r\n\t\t\t\t\t\t{{item.username}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"font-sm text-light-muted\" style=\"line-height: 1.5;\">\r\n\t\t\t\t\t\t{{item.created_at|formatTime}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 按钮 -->\r\n\t\t\t<view @click=\"follow\" v-if=\"!item.state.follow && user.id !== item.user_id\" class=\"flex align-center justify-center rounded bg-main text-white animated faster\"\r\n\t\t\t style=\"width: 90rpx;height: 50rpx;\" hover-class=\"jello\">\r\n\t\t\t\t关注\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 标题 -->\r\n\t\t<view class=\"font-md my-1\" @click=\"openDetail\">{{isdetail ? item.content : item.title}}</view>\r\n\t\t<!-- 帖子详情 -->\r\n\r\n\t\t<template v-if=\"item.image.length > 1\">\r\n\t\t\t<uni-grid :column=\"3\">\r\n\t\t\t\t<uni-grid-item v-for=\"(v,i) in item.image\" :key=\"i\">\r\n\t\t\t\t\t<image :src=\"v.thumb\" @tap=\"_previewImage(item.image, i)\" lazy-load mode=\"aspectFill\" class=\"w-100\"/>\r\n\t\t\t\t</uni-grid-item>\r\n\t\t\t</uni-grid>\r\n\t\t</template>\n\t\t<template v-else-if=\"item.image.length == 1\">\n\t\t\t<block v-for=\"(v,i) in item.image\" :key=\"i\">\n\t\t\t\t<image :src=\"v.thumb\" @tap=\"_previewImage(item.image, i)\" lazy-load mode=\"widthFix\" style=\"width:70%;\"/>\n\t\t\t</block>\n\t\t</template>\r\n\t\t<!-- 图标按钮 -->\r\n\t\t<view class=\"flex align-center\">\r\n\t\t\t<!-- 顶 -->\r\n\t\t\t<view class=\"flex align-center justify-center flex-1 animated faster\" hover-class=\"jello text-main\" @click=\"doSupport('support')\"\r\n\t\t\t :class=\"item.state.type === 1 ? 'support-active' : ''\">\r\n\t\t\t\t<text class=\"iconfont icon-dianzan2 mr-2\"></text>\r\n\t\t\t\t<text>{{item.like_count > 0 ? item.like_count : '顶'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 踩 -->\r\n\t\t\t<view class=\"flex align-center justify-center flex-1 animated faster\" hover-class=\"jello text-main\" @click=\"doSupport('unsupport')\"\r\n\t\t\t :class=\"item.state.type === 2 ? 'support-active' : ''\">\r\n\t\t\t\t<text class=\"iconfont icon-cai mr-2\"></text>\r\n\t\t\t\t<text>{{item.unlike_count > 0 ? item.unlike_count : '踩'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center justify-center flex-1 animated faster\" hover-class=\"jello text-main\" @click=\"doComment\">\r\n\t\t\t\t<text class=\"iconfont icon-pinglun2 mr-2\"></text>\r\n\t\t\t\t<text>{{item.comment_count > 0 ? item.comment_count : '评论'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center justify-center flex-1 animated faster\" hover-class=\"jello text-main\" @click=\"doShare\">\r\n\t\t\t\t<text class=\"iconfont icon-fenxiang mr-2\"></text>\r\n\t\t\t\t<text>{{item.share_count > 0 ? item.share_count : '分享'}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $T from '@/common/time.js';\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\timport uniGrid from \"@/components/uni-ui/uni-grid/uni-grid.vue\"\r\n\timport uniGridItem from \"@/components/uni-ui/uni-grid-item/uni-grid-item.vue\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniGrid,\r\n\t\t\tuniGridItem\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\titem: Object,\r\n\t\t\tisdetail: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tformatTime(value) {\r\n\t\t\t\treturn $T.gettime(value);\r\n\t\t\t},\r\n\t\t\tformatAvatar(value) {\r\n\t\t\t\tif (value == \"\") {\r\n\t\t\t\t\treturn value = \"/static/default.jpg\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuser: state => state.user\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 打开个人空间\r\n\t\t\topenSpace(user_id) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user-space/user-space?user_id=' + user_id,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 关注\r\n\t\t\tfollow() {\r\n\t\t\t\tthis.checkAuth(() => {\r\n\t\t\t\t\tthis.$H.post('/user/follow', {\r\n\t\t\t\t\t\tuser_id: this.item.user_id\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttoken: true\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t// 通知更新\r\n\t\t\t\t\t\tuni.$emit('updateFollowOrSupport', {\r\n\t\t\t\t\t\t\ttype: \"follow\",\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tuser_id: this.item.user_id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 进入详情页\r\n\t\t\topenDetail() {\r\n\t\t\t\t// 处于详情中\r\n\t\t\t\tif (this.isdetail) return;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../../pages/detail/detail?id=' + this.item.id,\r\n\t\t\t\t});\r\n\t\t\t\t// 加入历史记录\r\n\t\t\t\tlet list = uni.getStorageSync('history')\r\n\t\t\t\tlist = list ? JSON.parse(list) : []\r\n\t\t\t\tlet index = list.findIndex(v => v.id === this.item.id)\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\tlist.unshift(this.item)\r\n\t\t\t\t\tuni.setStorageSync('history', JSON.stringify(list))\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 顶踩操作\r\n\t\t\tdoSupport(type) {\r\n\t\t\t\tthis.checkAuth(() => {\r\n\t\t\t\t\tthis.$H.post('/user/like', {\r\n\t\t\t\t\t\tpost_id: this.item.id,\r\n\t\t\t\t\t\ttype: type === 'support' ? 1 : 2\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttoken: true,\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t// 通知父组件\r\n\t\t\t\t\t\tuni.$emit('updateFollowOrSupport', {\r\n\t\t\t\t\t\t\ttype: \"support\",\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\tid: this.item.id\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 评论\r\n\t\t\tdoComment() {\r\n\t\t\t\tthis.checkAuth(() => {\r\n\t\t\t\t\tif (!this.isdetail) {\r\n\t\t\t\t\t\treturn this.openDetail()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$emit('doComment')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 分享\r\n\t\t\tdoShare() {\r\n\t\t\t\tif (!this.isdetail) {\r\n\t\t\t\t\treturn this.openDetail()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('doShare')\r\n\t\t\t},\r\n\t\t\t//图片预览\r\n\t\t\t_previewImage(images, index) {\n\t\t\t\tlet imgArr = images.map(item=>{\n\t\t\t\t\treturn item.big\n\t\t\t\t})\r\n\t\t\t\t//预览图片\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: imgArr,\r\n\t\t\t\t\tcurrent: imgArr[index]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.support-active {\r\n\t\tcolor: #FF4A6A;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./common-list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./common-list.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1593249944004\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}