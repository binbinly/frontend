(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-topic-nav-topic-nav"],{"28c5":function(t,e,n){"use strict";n.r(e);var i=n("e0c6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"59b8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["loadmore"]};e.default=i},6375:function(t,e,n){"use strict";n.r(e);var i=n("f226"),a=n("ffb8");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"715ba14a",null,!1,i["a"],o);e["default"]=c.exports},"70ae":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-scroll-view",{staticClass:"scroll-row border-bottom border-light-secondary",staticStyle:{height:"100rpx"},attrs:{"scroll-x":!0,"scroll-into-view":t.scrollInto,"scroll-with-animation":!0}},t._l(t.tabBars,(function(e,i){return n("v-uni-view",{key:i,staticClass:"scroll-row-item px-3 py-2 font-md",class:t.tabIndex===i?"text-main font-lg font-weight-bold":"",attrs:{id:"tab"+i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(e.name))])})),1),n("v-uni-swiper",{style:"height:"+t.scrollH+"px;",attrs:{duration:150,current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeTab.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-scroll-view",{style:"height:"+t.scrollH+"px;",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore(i)}}},[e.list.length>0?[t._l(e.list,(function(e,i){return[n("topic-list",{key:i+"_0",attrs:{choose:t.choose,item:e,index:i}})]})),n("load-more",{attrs:{loadmore:e.loadmore}})]:e.firstLoad?[n("no-thing")]:[n("v-uni-view",{staticClass:"text-light-muted flex align-center justify-center font-md",staticStyle:{height:"200rpx"}},[t._v("加载中...")])]],2)],1)})),1)],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},7751:function(t,e,n){"use strict";n.r(e);var i=n("70ae"),a=n("28c5");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"3716d08f",null,!1,i["a"],o);e["default"]=c.exports},"7cdc":function(t,e,n){"use strict";n.r(e);var i=n("cf9c"),a=n("977a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7bca7b78",null,!1,i["a"],o);e["default"]=c.exports},"94af":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{item:Object,index:Number,choose:{type:Boolean,default:!1}},methods:{open:function(){if(this.choose)return uni.$emit("chooseTopic",{id:this.item.id,title:this.item.title}),uni.navigateBack({delta:1});uni.navigateTo({url:"../../pages/topic-detail/topic-detail?id="+this.item.id})}}};e.default=i},"977a":function(t,e,n){"use strict";n.r(e);var i=n("94af"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},cf9c:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex align-center p-2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"rounded mr-2",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:t.item.cover}}),n("v-uni-view",{staticClass:"flex flex-column flex-1"},[n("v-uni-text",{staticClass:"font-md text-dark"},[t._v("#"+t._s(t.item.title)+"#")]),n("v-uni-text",{staticClass:"font text-secondary"},[t._v(t._s(t.item.desc))]),n("v-uni-view",{staticClass:"flex align-center font text-secondary"},[n("v-uni-text",{staticClass:"mr-2"},[t._v("动态："+t._s(t.item.post_count))]),n("v-uni-text",[t._v("今日："+t._s(t.item.today_count))])],1)],1)],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},d0ff:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t){if(Array.isArray(t))return i(t)}n.r(e);n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("25f0");function o(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||r(t)||o(t)||s()}n.d(e,"default",(function(){return c}))},e0c6:function(t,e,n){"use strict";var i=n("ee27");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("d0ff")),r=i(n("7cdc")),o=i(n("6375")),s={components:{topicList:r.default,loadMore:o.default},data:function(){return{scrollH:600,scrollInto:"",tabIndex:0,tabBars:[],newsList:[],choose:!1}},onNavigationBarSearchInputClicked:function(){uni.navigateTo({url:"../search/search?type=2"})},onNavigationBarButtonTap:function(){uni.navigateTo({url:"../add-input/add-input"})},onLoad:function(t){var e=this;uni.getSystemInfo({success:function(t){e.scrollH=t.windowHeight-uni.upx2px(101)}}),this.getData(),t.choose&&(uni.setNavigationBarTitle({title:"选择话题"}),this.choose=!0)},methods:{getData:function(){var t=this;this.$H.get("/cat").then((function(e){t.tabBars=[{id:0,name:"全部"}].concat((0,a.default)(e));for(var n=[],i=0;i<t.tabBars.length;i++){var r={loadmore:"上拉加载更多",list:[],page:1,firstLoad:!1};n.push(r)}t.newsList=n,t.tabBars.length&&t.getList()}))},getList:function(){var t=this,e=this.tabIndex,n=this.tabBars[e].id,i=this.newsList[e].page,r=1===i;this.$H.get("/topic/list?cid="+n+"&p="+i).then((function(n){var i=n;t.newsList[e].list=r?(0,a.default)(i):[].concat((0,a.default)(t.newsList[e].list),(0,a.default)(i)),t.newsList[e].loadmore=i.length<10?"没有更多了":"上拉加载更多",r&&(t.newsList[e].firstLoad=!0)})).catch((function(n){r||t.newsList[e].page--}))},onChangeTab:function(t){this.changeTab(t.detail.current)},changeTab:function(t){this.tabIndex!==t&&(this.tabIndex=t,this.scrollInto="tab"+t,this.newsList[this.tabIndex].firstLoad||this.getList())},loadmore:function(t){var e=this.newsList[t];"上拉加载更多"===e.loadmore&&(e.loadmore="加载中...",e.page++,this.getList())}}};e.default=s},f226:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex align-center justify-center py-3"},[n("v-uni-text",{staticClass:"font text-light-muted"},[t._v(t._s(t.loadmore))])],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},ffb8:function(t,e,n){"use strict";n.r(e);var i=n("59b8"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a}}]);