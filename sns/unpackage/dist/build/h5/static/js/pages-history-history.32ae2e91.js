(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-history-history"],{8269:function(t,o,n){"use strict";n.r(o);var u=n("a2f8"),r=n("c3a2");for(var e in r)"default"!==e&&function(t){n.d(o,t,(function(){return r[t]}))}(e);var i,s=n("f0c5"),p=Object(s["a"])(r["default"],u["b"],u["c"],!1,null,"4bfd992c",null,!1,u["a"],i);o["default"]=p.exports},a2f8:function(t,o,n){"use strict";var u,r=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("v-uni-view",[t._l(t.list,(function(t,o){return n("common-list",{key:o,attrs:{item:t,index:o}})})),0===t.list.length?n("no-thing"):t._e()],2)},e=[];n.d(o,"b",(function(){return r})),n.d(o,"c",(function(){return e})),n.d(o,"a",(function(){return u}))},c3a2:function(t,o,n){"use strict";n.r(o);var u=n("e821"),r=n.n(u);for(var e in u)"default"!==e&&function(t){n.d(o,t,(function(){return u[t]}))}(e);o["default"]=r.a},e821:function(t,o,n){"use strict";var u=n("ee27");n("4160"),n("159b"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r=u(n("2f50")),e=(u(n("3a5b")),{components:{commonList:r.default},data:function(){return{list:[]}},onLoad:function(){var t=this,o=uni.getStorageSync("history");o&&(this.list=JSON.parse(o)),uni.$on("updateFollowOrSupport",(function(o){switch(o.type){case"follow":t.follow(o.data.user_id);break;case"support":t.doSupport(o.data);break}}))},onUnload:function(){uni.$off("updateFollowOrSupport",(function(t){}))},onNavigationBarButtonTap:function(){var t=this;uni.showModal({content:"是否要清除历史记录？",success:function(o){o.confirm&&(uni.removeStorageSync("history"),t.list=[])}})},methods:{follow:function(t){this.list.forEach((function(o){o.user_id===t&&(o.isFollow=!0)})),uni.showToast({title:"关注成功"})},doSupport:function(t){this.list.forEach((function(o){o.id===t.id&&(""===o.support.type?o.support[t.type+"_count"]++:"support"===o.support.type&&"unsupport"===t.type?(o.support.support_count--,o.support.unsupport_count++):"unsupport"===o.support.type&&"support"===t.type&&(o.support.support_count++,o.support.unsupport_count--),o.support.type=t.type)}));var o="support"===t.type?"顶":"踩";uni.showToast({title:o+"成功"})}}});o.default=e}}]);