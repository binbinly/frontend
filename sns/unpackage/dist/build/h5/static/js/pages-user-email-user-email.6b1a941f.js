(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-email-user-email"],{"0051":function(t,e,i){"use strict";i.r(e);var n=i("a396"),a=i("b617");for(var u in a)"default"!==u&&function(t){i.d(e,t,(function(){return a[t]}))}(u);var s,r=i("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"1e7ff78c",null,!1,n["a"],s);e["default"]=c.exports},a396:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"请输入你要绑定的邮箱",disabled:this.user.email},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-uni-view",{staticClass:"py-2 px-3"},[i("v-uni-button",{staticClass:"bg-main text-white",class:t.disabled?"bg-main-disabled":"",staticStyle:{"border-radius":"50rpx",border:"0"},attrs:{type:"primary",disabled:t.disabled||this.user.email},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("绑定")])],1)],1)},u=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return n}))},b617:function(t,e,i){"use strict";i.r(e);var n=i("c6c0"),a=i.n(n);for(var u in n)"default"!==u&&function(t){i.d(e,t,(function(){return n[t]}))}(u);e["default"]=a.a},c6c0:function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f3f3")),u=i("2f62"),s={data:function(){return{email:""}},computed:(0,a.default)({},(0,u.mapState)({user:function(t){return t.user}}),{disabled:function(){return""===this.email}}),onLoad:function(){this.user.email&&(this.email=this.user.email)},methods:{check:function(){var t=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return!!t.test(this.email)||(uni.showToast({title:"邮箱格式不正确",icon:"none"}),!1)},submit:function(){var t=this;this.check()&&this.$H.post("/user/bindemail",{email:this.email},{token:!0}).then((function(e){t.$store.commit("editUserInfo",{key:"email",value:t.email}),uni.navigateBack({delta:1}),uni.showToast({title:"绑定邮箱成功",icon:"none"})}))}}};e.default=s}}]);