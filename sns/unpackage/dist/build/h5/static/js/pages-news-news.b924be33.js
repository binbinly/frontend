(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-news-news"],{"02f3":function(t,e,n){"use strict";var i=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5bf6")),r=i(n("86e5")),o={name:"UniNavBar",components:{uniStatusBar:a.default,uniIcons:r.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:[Boolean,String],default:!1},shadow:{type:[String,Boolean],default:!0},border:{type:[String,Boolean],default:!0}},methods:{onClickLeft:function(){this.$emit("click-left")},onClickRight:function(){this.$emit("click-right")}}};e.default=o},"0950":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("uni-nav-bar",{attrs:{border:!1,fixed:!0,statusBar:!0},on:{"click-right":function(e){arguments[0]=e=t.$handleEvent(e),t.openAddInput.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"flex align-center justify-center font-weight-bold w-100"},t._l(t.tabBars,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mx-1",class:t.tabIndex===i?"font-lg text-main":"font-md text-light-muted",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[t._v(t._s(e.name))])})),1),n("v-uni-text",{staticClass:"iconfont icon-fatie_icon",attrs:{slot:"right"},slot:"right"})],1),n("v-uni-swiper",{style:"height:"+t.scrollH+"px;",attrs:{current:t.tabIndex,duration:150},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeTab.apply(void 0,arguments)}}},[n("v-uni-swiper-item",[n("v-uni-scroll-view",{style:"height:"+t.scrollH+"px;",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmoreEvent.apply(void 0,arguments)}}},[t._l(t.list,(function(e,i){return[n("common-list",{key:i+"_0",attrs:{item:e,index:i},on:{doSupport:function(e){arguments[0]=e=t.$handleEvent(e),t.doSupport.apply(void 0,arguments)}}}),n("divider")]})),t.list.length?n("load-more",{attrs:{loadmore:t.loadmore}}):n("no-thing")],2)],1),n("v-uni-swiper-item",[n("v-uni-scroll-view",{style:"height:"+t.scrollH+"px;",attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticClass:"p-2"},[n("v-uni-view",{staticClass:"bg-light rounded flex align-center justify-center py-2 text-secondary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openSearch.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont icon-sousuo mr-2"}),t._v("搜索话题")],1)],1),n("v-uni-swiper",{staticClass:"px-2 pb-2",attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3}},t._l(t.swiperList,(function(t,e){return n("v-uni-swiper-item",{key:e},[n("v-uni-image",{staticClass:"w-100 rounded",staticStyle:{height:"300rpx"},attrs:{src:t.image}})],1)})),1),n("divider"),n("v-uni-view",{staticClass:"flex align-center justify-between px-2"},[n("v-uni-text",{staticClass:"font-md"},[t._v("最近更新")]),n("v-uni-view",{staticClass:"flex align-center font text-secondary animated",attrs:{"hover-class":"jello"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMore.apply(void 0,arguments)}}},[t._v("更多"),n("v-uni-text",{staticClass:"iconfont icon-jinru"})],1)],1),t._l(t.topicList,(function(t,e){return[n("topic-list",{key:e+"_0",attrs:{item:t,index:e}})]}))],2)],1)],1)],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},"19bd":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-navbar"},[n("v-uni-view",{staticClass:"uni-navbar__content",class:{"uni-navbar--fixed":t.fixed,"uni-navbar--shadow":t.border,"uni-navbar--border":t.border},style:{"background-color":t.backgroundColor}},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__header uni-navbar__content_view",style:{color:t.color}},[n("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__content_view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickLeft.apply(void 0,arguments)}}},[t.leftIcon.length?n("v-uni-view",{staticClass:"uni-navbar__content_view"},[n("uni-icons",{attrs:{type:t.leftIcon,color:t.color,size:"24"}})],1):t._e(),t.leftText.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text uni-navbar__content_view",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left")],2),n("v-uni-view",{staticClass:"uni-navbar__header-container uni-navbar__content_view"},[t.title.length?n("v-uni-view",{staticClass:"uni-navbar__header-container-inner uni-navbar__content_view"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2),n("v-uni-view",{staticClass:"uni-navbar__header-btns uni-navbar__content_view",class:t.title.length?"uni-navbar__header-btns-right":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickRight.apply(void 0,arguments)}}},[t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar__content_view"},[n("uni-icons",{attrs:{type:t.rightIcon,color:t.color,size:"24"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?n("v-uni-view",{staticClass:"uni-navbar-btn-text uni-navbar__content_view"},[t._v(t._s(t.rightText))]):t._e(),t._t("right")],2)],1)],1),t.fixed?n("v-uni-view",{staticClass:"uni-navbar__placeholder"},[t.statusBar?n("uni-status-bar"):t._e(),n("v-uni-view",{staticClass:"uni-navbar__placeholder-view"})],1):t._e()],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},"1b0a":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'.uni-navbar__content[data-v-bf6ac1ae]{display:block;position:relative;width:100%;background-color:#fff;overflow:hidden}.uni-navbar__content .uni-navbar__content_view[data-v-bf6ac1ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-navbar__header[data-v-bf6ac1ae]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;width:100%;height:44px;line-height:44px;font-size:16px}.uni-navbar__header-btns[data-v-bf6ac1ae]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;padding:0 %?12?%}.uni-navbar__header-btns[data-v-bf6ac1ae]:first-child{padding-left:0}.uni-navbar__header-btns[data-v-bf6ac1ae]:last-child{width:%?60?%}.uni-navbar__header-btns-right[data-v-bf6ac1ae]:last-child{width:%?120?%;text-align:right;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.uni-navbar__header-container[data-v-bf6ac1ae]{width:100%;margin:0 %?10?%}.uni-navbar__header-container-inner[data-v-bf6ac1ae]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%}.uni-navbar__placeholder-view[data-v-bf6ac1ae]{height:44px}.uni-navbar--fixed[data-v-bf6ac1ae]{position:fixed;z-index:998}.uni-navbar--shadow[data-v-bf6ac1ae]{box-shadow:0 1px 6px #ccc}.uni-navbar--border[data-v-bf6ac1ae]:after{position:absolute;z-index:3;bottom:0;left:0;right:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#e5e5e5}',""]),t.exports=e},"1e9e":function(t,e,n){"use strict";n.r(e);var i=n("5d3f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2012:function(t,e,n){"use strict";n.r(e);var i=n("3aec"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"37de":function(t,e,n){"use strict";n.r(e);var i=n("19bd"),a=n("8c35");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("3ee0");var o,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"bf6ac1ae",null,!1,i["a"],o);e["default"]=s.exports},"3aec":function(t,e,n){"use strict";var i=n("ee27");n("99af"),n("4160"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("d0ff")),r=i(n("37de")),o=i(n("2f50")),u=i(n("6375")),s=i(n("7cdc")),c=i(n("3a5b")),l={components:{uniNavBar:r.default,commonList:o.default,loadMore:u.default,topicList:s.default,noThing:c.default},data:function(){return{scrollH:500,tabIndex:0,tabBars:[{name:"关注"},{name:"话题"}],list:[],loadmore:"上拉加载更多",page:1,hotCate:[],topicList:[],swiperList:[]}},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){t.scrollH=e.windowHeight-e.statusBarHeight-44}}),this.getSwipers(),this.getHotTopic(),uni.$on("updateFollowOrSupport",(function(e){switch(e.type){case"support":t.doSupport(e.data);break}}))},onUnload:function(){uni.$off("updateFollowOrSupport",(function(t){}))},onShow:function(){this.page=1,this.getList()},methods:{getList:function(){var t=this,e=1===this.page;this.$H.get("/post/follow?p="+this.page,{},{token:!0,notoast:!0}).then((function(n){t.list=e?n:[].concat((0,a.default)(t.res),(0,a.default)(n)),t.loadmore=n.length<10?"没有更多了":"上拉加载更多"})).catch((function(n){e||t.page--}))},getHotTopic:function(){var t=this;this.$H.get("/topic/newest").then((function(e){t.topicList=e}))},getSwipers:function(){var t=this;this.$H.get("/ads?pid=1").then((function(e){t.swiperList=e}))},openAddInput:function(){uni.navigateTo({url:"../add-input/add-input"})},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.tabIndex=t.detail.current},doSupport:function(t){var e=this;this.list.forEach((function(n){if(n.id===t.id)if("support"===t.type){if(0===n.state.type)n.like_count++;else{if(2!==n.state.type)return e.$U.toast("已操作过哦");n.like_count++,n.unlike_count--}n.state.type=1}else{if(0===n.state.type)n.unlike_count++;else{if(1!==n.state.type)return e.$U.toast("已操作过哦");n.like_count--,n.unlike_count++}n.state.type=2}}));var n="support"===t.type?"顶":"踩";uni.showToast({title:n+"成功"})},loadmoreEvent:function(){"上拉加载更多"===this.loadmore&&(this.loadmore="加载中...",this.page++,this.getList())},openSearch:function(){uni.navigateTo({url:"../search/search?type=2"})},openMore:function(){uni.navigateTo({url:"../../pages/topic-nav/topic-nav"})}}};e.default=l},"3ee0":function(t,e,n){"use strict";var i=n("c4ea"),a=n.n(i);a.a},4988:function(t,e,n){"use strict";var i=n("ca80"),a=n.n(i);a.a},"56e4":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-status-bar",style:{height:t.statusBarHeight}},[t._t("default")],2)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},"59b8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["loadmore"]};e.default=i},"5bf6":function(t,e,n){"use strict";n.r(e);var i=n("56e4"),a=n("1e9e");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("4988");var o,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"a9d4525a",null,!1,i["a"],o);e["default"]=s.exports},"5d3f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.getSystemInfoSync().statusBarHeight+"px",a={name:"UniStatusBar",data:function(){return{statusBarHeight:i}}};e.default=a},6375:function(t,e,n){"use strict";n.r(e);var i=n("f226"),a=n("ffb8");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"715ba14a",null,!1,i["a"],o);e["default"]=s.exports},"63d1":function(t,e,n){"use strict";n.r(e);var i=n("0950"),a=n("2012");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"6a90553b",null,!1,i["a"],o);e["default"]=s.exports},"7cdc":function(t,e,n){"use strict";n.r(e);var i=n("cf9c"),a=n("977a");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o,u=n("f0c5"),s=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"7bca7b78",null,!1,i["a"],o);e["default"]=s.exports},"8c35":function(t,e,n){"use strict";n.r(e);var i=n("02f3"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"94af":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{item:Object,index:Number,choose:{type:Boolean,default:!1}},methods:{open:function(){if(this.choose)return uni.$emit("chooseTopic",{id:this.item.id,title:this.item.title}),uni.navigateBack({delta:1});uni.navigateTo({url:"../../pages/topic-detail/topic-detail?id="+this.item.id})}}};e.default=i},"977a":function(t,e,n){"use strict";n.r(e);var i=n("94af"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"9a0e":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-status-bar[data-v-a9d4525a]{display:block;width:100%;height:20px;height:0}",""]),t.exports=e},c4ea:function(t,e,n){var i=n("1b0a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("9548c412",i,!0,{sourceMap:!1,shadowMode:!1})},ca80:function(t,e,n){var i=n("9a0e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("43b677c6",i,!0,{sourceMap:!1,shadowMode:!1})},cf9c:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex align-center p-2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"rounded mr-2",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:t.item.cover}}),n("v-uni-view",{staticClass:"flex flex-column flex-1"},[n("v-uni-text",{staticClass:"font-md text-dark"},[t._v("#"+t._s(t.item.title)+"#")]),n("v-uni-text",{staticClass:"font text-secondary"},[t._v(t._s(t.item.desc))]),n("v-uni-view",{staticClass:"flex align-center font text-secondary"},[n("v-uni-text",{staticClass:"mr-2"},[t._v("动态："+t._s(t.item.post_count))]),n("v-uni-text",[t._v("今日："+t._s(t.item.today_count))])],1)],1)],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},d0ff:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t){if(Array.isArray(t))return i(t)}n.r(e);n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("fb6a"),n("25f0");function o(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return a(t)||r(t)||o(t)||u()}n.d(e,"default",(function(){return s}))},f226:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"flex align-center justify-center py-3"},[n("v-uni-text",{staticClass:"font text-light-muted"},[t._v(t._s(t.loadmore))])],1)},r=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}))},ffb8:function(t,e,n){"use strict";n.r(e);var i=n("59b8"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a}}]);